<!-- ==============================================
âœ… ChartFly Admin Panel - market-holidays.html
Standalone MPA Page for Market Holidays Admin Section
Author: Captain & Chatman
Version: MPA Phase IV â€” Section Header Inserted
=================================================== -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Manage Market Holidays</title>
    <link
      rel="icon"
      href="/static/images/ChartFly-Favicon.ico"
      type="image/x-icon"
    />
    <link rel="stylesheet" href="/static/css/styles.css?v=999" />
    <link
      rel="stylesheet"
      href="/static/admin/shared/navbar/navbar.css?v=999"
    />
    <link rel="stylesheet" href="/static/admin/shared/button-box.css?v=999" />
    <link
      rel="stylesheet"
      href="/static/admin/shared/button-box-switch-mode.css?v=999"
    />
    <link
      rel="stylesheet"
      href="/static/admin/market-holidays/market-holidays.css?v=999"
    />
  </head>
  <body>
    <!-- âœ… Header -->
    <div class="admin-header">
      <img
        src="/static/images/Chartfly-logo.png"
        alt="ChartFly Logo"
        class="admin-logo"
      />
      <h1 class="admin-title">ChartFly Admin Console</h1>
      <div id="market-status-indicator">
        Market Status: <span id="market-status-text">Checking...</span>
      </div>
    </div>

    <!-- âœ… NavBar -->
    {% include "shared/navbar/navbar.html" %}

    <!-- âœ… Market Holidays Table + ButtonBox -->
    <section id="market-holidays-section" class="admin-tab-section">
      <div class="section-header">Admin Market Holidays</div>
      {% set section = "holiday" %} {% include "shared/button-box.html" %} {%
      include "market-holidays/holiday-table.html" %}
    </section>

    <!-- âœ… Footer -->
    <footer class="admin-footer">
      <div class="footer-ticker">
        <span id="holiday-ticker" class="ticker-content">ðŸŽ‰ Loading...</span>
        <span
          id="holiday-ticker-duplicate"
          class="ticker-content"
          aria-hidden="true"
          >ðŸŽ‰ Loading...</span
        >
      </div>
    </footer>

    <!-- âœ… Scripts (Modules) -->
    <script
      src="/static/admin/shared/navbar/navbar.js?v=999"
      type="module"
    ></script>
    <script
      src="/static/admin/shared/button-box.js?v=999"
      type="module"
    ></script>
    <script
      src="/static/admin/shared/button-box-messages.js?v=999"
      type="module"
    ></script>
    <script
      src="/static/admin/shared/button-box-rows.js?v=999"
      type="module"
    ></script>
    <script
      src="/static/admin/shared/button-box-columns.js?v=999"
      type="module"
    ></script>
    <script
      src="/static/admin/shared/button-box-switch-mode.js?v=999"
      type="module"
    ></script>
    <script
      src="/static/admin/market-holidays/button-box-market-holidays.js?v=999"
      type="module"
    ></script>
    <script
      src="/static/admin/market-holidays/market-holidays.js?v=999"
      type="module"
    ></script>

    <!-- âœ… Inject missing Show Line ID toggle -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const box = document.querySelector(
          "#market-holidays-section .edit-mode-controls"
        );
        if (box && !document.getElementById("market-holidays-show-id-toggle")) {
          const checkbox = document.createElement("input");
          checkbox.type = "checkbox";
          checkbox.id = "market-holidays-show-id-toggle";
          checkbox.checked = true;

          const label = document.createElement("label");
          label.htmlFor = checkbox.id;
          label.textContent = "Show Line ID";

          box.appendChild(checkbox);
          box.appendChild(label);
        }
      });
    </script>
  </body>
</html>
