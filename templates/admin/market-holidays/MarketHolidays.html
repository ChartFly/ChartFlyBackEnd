<!-- templates/admin/market-holidays/MarketHolidays.html -->

<section
  id="market-holidays-section"
  class="admin-tab-section"
  style="display: block"
>
  <h2>Manage Market Holidays</h2>

  <!-- ‚úÖ Modular ButtonBox -->
  {% set section = "holiday" %} {% include "shared/ButtonBox.html" with context
  %}

  <!-- üìÖ Holiday Table -->
  <div
    class="table-wrapper"
    style="min-height: 200px; overflow: visible; border: 3px dashed red"
  >
    <table
      id="holidays-table"
      class="admin-table"
      style="width: 100%; border: 2px dashed blue; table-layout: fixed"
    >
      <thead style="background-color: #ddd">
        <tr>
          <th class="col-select">Select</th>
          <th class="line-id-col" style="display: table-cell">ID</th>
          <th>Name</th>
          <th>Date</th>
          <th>Status</th>
          <th>Close Time</th>
        </tr>
      </thead>
      <tbody style="background-color: #ffe">
        <!-- üß™ Static test row -->
        <tr style="border: 1px solid black">
          <td class="col-select"><input type="checkbox" /></td>
          <td class="line-id-col" style="display: table-cell">123</td>
          <td>Test Holiday</td>
          <td>2025-07-04</td>
          <td>Upcoming</td>
          <td>1:00 PM</td>
        </tr>
      </tbody>
    </table>
  </div>

  <script>
    // üß™ Patch 5 DOM check
    setTimeout(() => {
      const section = document.querySelector("#market-holidays-section");
      const table = document.querySelector("#holidays-table");
      const tbody = table.querySelector("tbody");
      const rows = tbody.querySelectorAll("tr");

      console.log("üìã Tbody check (Patch 5)");
      console.log("üì¶ Row count:", rows.length);
      rows.forEach((row, i) => {
        console.log(`üîç Row ${i + 1} HTML:`, row.outerHTML);
        row.style.border = "2px dotted green"; // Force visibility border
        row.style.backgroundColor = "#dfd";
      });

      if (rows.length === 0) {
        console.warn("‚ö†Ô∏è Tbody exists but contains no rows.");
      }
    }, 500);
  </script>
</section>
